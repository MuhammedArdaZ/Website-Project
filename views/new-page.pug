html
  head
    meta
    link(rel="stylesheet", href="/main.css")
  
  body
    #top-bar
      a(href="/")
        img#main-logo(src="/logo-revert.png", alt="HasHaber")
      input#search-bar(type="text", placeholder="Search a new...")
      a#search-bar-search-button(href="") &#x1F50D
      a#dark-light-theme-button(href="") &#x1F315

      #date-clock-div
        span#date-span
        span#clock-span

      script.
        var clockSpan = document.getElementById("clock-span");
        var dateSpan = document.getElementById("date-span")
        date_time()

        function date_time() {
          var date = new Date();
          var day = date.getDate();
          var month = date.getMonth() + 1;
          var year = date.getFullYear()
          var second = date.getSeconds();
          var minute = date.getMinutes();
          var hour = date.getHours();

          dateSpan.textContent =
            ("0" + day).substr(-2) + "-" + ("0" + month).substr(-2) + "-" + year;
          clockSpan.textContent =
            ("0" + hour).substr(-2) + ":" + ("0" + minute).substr(-2) + ":" + ("0" + second).substr(-2);
        }
        setInterval(date_time, 1000);

    .main-page-login-register-upload-div
      if !user || !user.isLoggedIn
        form(action="/login" method="get")
          input#login-button.page-login-register-upload-logout-button(type="submit", value="Login")
        form(action="/register" method="get")
          input#register-button.page-login-register-upload-logout-button(type="submit", value="Register")
      else
        if user.authenticationLevel >= 1
          form(action="/upload" method="get")
            input#upload-new-button.page-login-register-upload-logout-button(type="submit", value="Upload New")
        form(action="/api/logout", method="post")
          input#logout-button.page-login-register-upload-logout-button(type="submit", value="Logout")

    div.new-page-news-div
      div
        img.new-page-main-image(src= newsData.image, alt= "Error")
        h2.new-page-news-title #{newsData.title}
        p.new-page-news-content #{newsData.content}
            
    div#new-page-comment-section-div
      p(style="font-weight: 900;") Comments
      form(action="/api/news/" + newsData.newsId + "/addComment/", method="post") 
        textarea#new-page-comment-section(placeholder="Write Comment Here...", name="commentText", rows="4", minlength="1", maxlength="300")
        input#new-page-comment-section-upload-button(type="submit", value="Add Comment") 
      ul
        each comment in newsData.comments
          li.comment-section-li
            .comment-section-div
              span.comment-section-image-username-span
                img#comment-avatar-image(src=comment.user.avatar || '/GuestAvatar.png', alt="profile")
                p.comment-section-username-p #{comment.user.name} #{comment.user.surname.substring(0,1)}.
              p.comment-section-comment-p #{comment.commentText}
  