html
  head
    meta
    link(rel="stylesheet", href="/main.css")
  
  body
    #top-bar
      a(href="/")
        img#main-logo(src="/logo-revert.png", alt="HasHaber")
      input#search-bar(type="text", placeholder="Search a new...")
      a#search-bar-search-button(href="") &#x1F50D
      a#dark-light-theme-button(href="") &#x1F315

      #date-clock-div
        span#date-span
        span#clock-span

      script.
        var clockSpan = document.getElementById("clock-span");
        var dateSpan = document.getElementById("date-span")
        date_time()

        function date_time() {
          var date = new Date();
          var day = date.getDate();
          var month = date.getMonth() + 1;
          var year = date.getFullYear()
          var second = date.getSeconds();
          var minute = date.getMinutes();
          var hour = date.getHours();

          dateSpan.textContent =
            ("0" + day).substr(-2) + "-" + ("0" + month).substr(-2) + "-" + year;
          clockSpan.textContent =
            ("0" + hour).substr(-2) + ":" + ("0" + minute).substr(-2) + ":" + ("0" + second).substr(-2);
        }
        setInterval(date_time, 1000);

    .main-page-login-register-upload-div
      if !user || !user.isLoggedIn
        form(action="/login" method="get")
          input#login-button.page-login-register-upload-logout-button(type="submit", value="Login")
        form(action="/register" method="get")
          input#register-button.page-login-register-upload-logout-button(type="submit", value="Register")
      else
        if user.authenticationLevel >= 1
        form(action="/upload" method="get")
          input#upload-new-button.page-login-register-upload-logout-button(type="submit", value="Upload New")
        form(action="/api/logout", method="post")
          input#logout-button.page-login-register-upload-logout-button(type="submit", value="Logout")

    .main-page-news-div
      ul#main-page-news-ul
        each newObject in news
          li#main-page-news-li
            a.main-page-news(href="/news/" + newObject.id)
              div
                img.main-page-main-image(src= newObject.image , alt="Error")
                h2.main-page-news-title #{newObject.title}
                p.main-page-news-content #{newObject.content.substring(0, 30)}...